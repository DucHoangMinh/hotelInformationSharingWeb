{"ast":null,"code":"import VueDatePicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport { ref } from \"vue\";\nimport mixin from \"@/services/mixin\";\nimport api from \"@/services/api\";\nexport default {\n  name: \"RegisterPage\",\n  components: {\n    VueDatePicker\n  },\n  setup() {\n    const registerRequest = ref({\n      fullname: '',\n      email: '',\n      dob: '',\n      sex: true,\n      phone: 0,\n      password: '',\n      role: ''\n    });\n    const validateEmailValue = ref(true);\n    const invalidMessage = ref({\n      passwordNotMatch: 'Mật khẩu không trùng khớp',\n      emailNotValid: 'Vui lòng nhập một email hợp lệ'\n    });\n    const rePassword = ref('');\n    function validateEmail() {\n      let email = registerRequest.value.email.toLowerCase();\n      validateEmailValue.value = email.match(/^[a-z0-9]+@[a-z]+\\.[a-z]{2,3}$/);\n    }\n    async function handleClickRegister() {\n      registerRequest.value.dob = mixin.formatDateToYYYYMMDD(registerRequest.value.dob);\n      const registerResponse = await api.post('register', registerRequest.value);\n      console.log(registerResponse);\n    }\n    return {\n      registerRequest,\n      rePassword,\n      handleClickRegister,\n      invalidMessage,\n      validateEmail,\n      validateEmailValue\n    };\n  }\n};","map":{"version":3,"names":["VueDatePicker","ref","mixin","api","name","components","setup","registerRequest","fullname","email","dob","sex","phone","password","role","validateEmailValue","invalidMessage","passwordNotMatch","emailNotValid","rePassword","validateEmail","value","toLowerCase","match","handleClickRegister","formatDateToYYYYMMDD","registerResponse","post","console","log"],"sources":["/var/home/duchm/Documents/hotelInformationSharingWeb/frontend/src/components/account/RegisterPage.vue"],"sourcesContent":["<template lang=\"pug\">\n.login-form.d-flex.flex-column.pa-8\n  v-label.text-center.text-h5 Đăng ký\n  v-label() Họ và tên\n  v-text-field(v-model=\"registerRequest.fullname\" density=\"compact\"  variant=\"outlined\" )\n  v-label() Email\n  v-text-field(v-model=\"registerRequest.email\" type=\"email\" density=\"compact\"  variant=\"outlined\" @input=\"validateEmail()\")\n  v-label.invalid-message(v-if=\"!validateEmailValue\") {{invalidMessage.emailNotValid}}\n  v-label() Ngày sinh\n  vue-date-picker.mb-4(v-model=\"registerRequest.dob\" :enable-time-picker=\"false\")\n  .sex-select.d-flex.justify-space-between\n    v-label Giới tính\n    p Nam\n    input(type=\"radio\" value=\"true\" name=\"sex\" v-model=\"registerRequest.sex\" )\n    p Nữ\n    input(type=\"radio\" value=\"false\" name=\"sex\" v-model=\"registerRequest.sex\" )\n  .role-select.d-flex.justify-space-between\n    v-label Đăng ký với tư cách là\n    p Chủ phòng nghỉ\n    input(type=\"radio\" value=\"ROLE_HOST\" name=\"role\" v-model=\"registerRequest.role\" )\n    p Người tìm kiếm\n    input(type=\"radio\" value=\"ROLE_CLIENT\" name=\"role\" v-model=\"registerRequest.role\" )\n  v-label() Số điện thoại\n  v-text-field(v-model=\"registerRequest.phone\" type=\"number\" density=\"compact\" variant=\"outlined\" )\n  v-label Mật khẩu\n  v-text-field(v-model=\"registerRequest.password\" type=\"password\" density=\"compact\" variant=\"outlined\")\n  v-label Nhập lại mật khẩu\n  v-text-field(v-model=\"rePassword\" type=\"password\" density=\"compact\" variant=\"outlined\")\n  v-label.invalid-message(v-if=\"registerRequest.password !== rePassword\" ) {{invalidMessage.passwordNotMatch}}\n  .d-flex.justify-center\n    v-btn(style=\"width: 50%\" @click=\"handleClickRegister\").register-button Đăng ký\n  p.text-center.mt-4 Đã có tài khoản?\n    router-link(to=\"/login\") Đăng nhập\n</template>\n<script>\nimport VueDatePicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport {ref} from \"vue\";\nimport mixin from \"@/services/mixin\";\nimport api from \"@/services/api\";\n\nexport default {\n  name:\"RegisterPage\",\n  components: {\n    VueDatePicker\n  },\n  setup(){\n    const registerRequest = ref({\n      fullname: '',\n      email: '',\n      dob: '',\n      sex: true,\n      phone: 0,\n      password: '',\n      role: ''\n    })\n    const validateEmailValue = ref(true);\n    const invalidMessage = ref({\n      passwordNotMatch: 'Mật khẩu không trùng khớp',\n      emailNotValid: 'Vui lòng nhập một email hợp lệ'\n    })\n    const rePassword = ref('')\n    function validateEmail(){\n      let email = registerRequest.value.email.toLowerCase()\n      validateEmailValue.value = email.match( /^[a-z0-9]+@[a-z]+\\.[a-z]{2,3}$/)\n    }\n    async function handleClickRegister(){\n      registerRequest.value.dob = mixin.formatDateToYYYYMMDD(registerRequest.value.dob);\n      const registerResponse = await api.post('register', registerRequest.value)\n      console.log(registerResponse);\n    }\n    return {\n      registerRequest,\n      rePassword,\n      handleClickRegister,\n      invalidMessage,\n      validateEmail,\n      validateEmailValue\n    }\n  }\n}\n</script>\n<style lang=\"sass\" scoped>\n@import \"src/sass/common\"\nv-label\n  opacity: 1\n.login-form\n  width: 30%\n  margin: auto\n  margin-top: 100px\n  border: 1px solid $matisse-color\n  border-radius: 5px\n.register-button\n  background-color: $lochmara-color\n.invalid-message\n  color: $danger-color\n  opacity: 1\n.v-text-field :deep() .v-input__details\n  display: none !important\n</style>"],"mappings":"AAmCA,OAAOA,aAAY,MAAO,wBAAwB;AAClD,OAAO,sCAAsC;AAC7C,SAAQC,GAAG,QAAO,KAAK;AACvB,OAAOC,KAAI,MAAO,kBAAkB;AACpC,OAAOC,GAAE,MAAO,gBAAgB;AAEhC,eAAe;EACbC,IAAI,EAAC,cAAc;EACnBC,UAAU,EAAE;IACVL;EACF,CAAC;EACDM,KAAKA,CAAA,EAAE;IACL,MAAMC,eAAc,GAAIN,GAAG,CAAC;MAC1BO,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,GAAG,EAAE,EAAE;MACPC,GAAG,EAAE,IAAI;MACTC,KAAK,EAAE,CAAC;MACRC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE;IACR,CAAC;IACD,MAAMC,kBAAiB,GAAId,GAAG,CAAC,IAAI,CAAC;IACpC,MAAMe,cAAa,GAAIf,GAAG,CAAC;MACzBgB,gBAAgB,EAAE,2BAA2B;MAC7CC,aAAa,EAAE;IACjB,CAAC;IACD,MAAMC,UAAS,GAAIlB,GAAG,CAAC,EAAE;IACzB,SAASmB,aAAaA,CAAA,EAAE;MACtB,IAAIX,KAAI,GAAIF,eAAe,CAACc,KAAK,CAACZ,KAAK,CAACa,WAAW,CAAC;MACpDP,kBAAkB,CAACM,KAAI,GAAIZ,KAAK,CAACc,KAAK,CAAE,gCAAgC;IAC1E;IACA,eAAeC,mBAAmBA,CAAA,EAAE;MAClCjB,eAAe,CAACc,KAAK,CAACX,GAAE,GAAIR,KAAK,CAACuB,oBAAoB,CAAClB,eAAe,CAACc,KAAK,CAACX,GAAG,CAAC;MACjF,MAAMgB,gBAAe,GAAI,MAAMvB,GAAG,CAACwB,IAAI,CAAC,UAAU,EAAEpB,eAAe,CAACc,KAAK;MACzEO,OAAO,CAACC,GAAG,CAACH,gBAAgB,CAAC;IAC/B;IACA,OAAO;MACLnB,eAAe;MACfY,UAAU;MACVK,mBAAmB;MACnBR,cAAc;MACdI,aAAa;MACbL;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}