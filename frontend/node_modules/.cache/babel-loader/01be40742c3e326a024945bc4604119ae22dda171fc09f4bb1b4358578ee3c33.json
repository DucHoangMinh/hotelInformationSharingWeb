{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted, watch } from \"vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"HomePage\",\n  setup() {\n    const totalProvinceData = ref([]);\n    const provinceList = ref([]);\n    const districtList = ref([]);\n    const wardList = ref([]);\n    //Ghi lại giá trị các lựa chọn tỉnh/huyện/xã trong cái select\n    const areaSelection = ref({\n      province: null,\n      distric: null,\n      ward: null\n    });\n    //Ghi lại index của các tỉnh, huyện, xã đã chọn trong cái mảng tổng\n    const areaIndexSelection = ref({\n      provinceIndex: null,\n      districtIndex: null,\n      wardIndex: null\n    });\n    const getProviceList = async () => {\n      let getData = await axios.get('https://provinces.open-api.vn/api/?depth=3');\n      return getData.data;\n    };\n    const provinceDataDivision = () => {\n      totalProvinceData.value.forEach(item => {\n        provinceList.value.push(item.name);\n      });\n    };\n    const testFunctions = () => {\n      console.log(\"Test okay\");\n    };\n    watch(() => areaSelection.value.province, () => {\n      districtList.value = [];\n      wardList.value = [];\n      areaSelection.value.distric = null;\n      areaSelection.value.ward = null;\n      totalProvinceData.value.forEach((item, index) => {\n        if (item.name == areaSelection.value.province) {\n          areaIndexSelection.value.provinceIndex = index;\n          item.districts.forEach(district => {\n            districtList.value.push(district.name);\n          });\n        }\n      });\n    });\n    watch(() => areaSelection.value.distric, () => {\n      wardList.value = [];\n      areaSelection.value.ward = null;\n      let currentDistrictList = totalProvinceData.value[areaIndexSelection.value.provinceIndex].districts;\n      currentDistrictList.forEach(item => {\n        if (item.name == areaSelection.value.distric) {\n          item.wards.forEach(item => {\n            wardList.value.push(item.name);\n          });\n        }\n      });\n    });\n    const setUpData = async () => {\n      totalProvinceData.value = await getProviceList();\n      provinceDataDivision();\n    };\n    onMounted(() => {\n      setUpData();\n    });\n    return {\n      testFunctions,\n      totalProvinceData,\n      provinceList,\n      districtList,\n      areaSelection,\n      wardList\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","axios","name","setup","totalProvinceData","provinceList","districtList","wardList","areaSelection","province","distric","ward","areaIndexSelection","provinceIndex","districtIndex","wardIndex","getProviceList","getData","get","data","provinceDataDivision","value","forEach","item","push","testFunctions","console","log","index","districts","district","currentDistrictList","wards","setUpData"],"sources":["/var/home/duchm/Documents/hotelInformationSharingWeb/frontend/src/views/HomePage.vue"],"sourcesContent":["<template lang=\"pug\">\n#header\n  .header-block\n    .header-block-content\n    .header-filter.d-flex.pa-4\n      v-select.provinceSelect(label=\"Tỉnh/Thành phố\" v-model=\"areaSelection.province\" variant=\"outlined\" density=\"compact\" :items=\"provinceList\").mr-2\n      v-select.provinceSelect(label=\"Quận/Huyện\" v-model=\"areaSelection.distric\" variant=\"outlined\" density=\"compact\" :items=\"districtList\").mr-2\n      v-select.provinceSelect(label=\"Phường/Xã\" v-model=\"areaSelection.ward\" variant=\"outlined\" density=\"compact\" :items=\"wardList\").mr-2\n      v-btn(variant=\"outlined\" size=\"large\").filter-search-button Tìm kiếm\n#body\n  .body-wrapper\n    v-container\n\n</template>\n<script>\nimport {ref,onMounted,watch} from \"vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"HomePage\",\n  setup(){\n    const totalProvinceData = ref([])\n    const provinceList = ref([])\n    const districtList = ref([])\n    const wardList = ref([])\n    //Ghi lại giá trị các lựa chọn tỉnh/huyện/xã trong cái select\n    const areaSelection = ref({\n      province: null,\n      distric: null,\n      ward: null\n    })\n    //Ghi lại index của các tỉnh, huyện, xã đã chọn trong cái mảng tổng\n    const areaIndexSelection = ref({\n      provinceIndex: null,\n      districtIndex: null,\n      wardIndex: null\n    })\n    const getProviceList = async () => {\n      let getData = await axios.get('https://provinces.open-api.vn/api/?depth=3')\n      return getData.data;\n    }\n    const provinceDataDivision = () => {\n      totalProvinceData.value.forEach((item) => {\n        provinceList.value.push(item.name)\n      })\n    }\n    const testFunctions = () => {\n      console.log(\"Test okay\")\n    }\n    watch(() => areaSelection.value.province, ()=> {\n      districtList.value = []\n      wardList.value = []\n      areaSelection.value.distric = null\n      areaSelection.value.ward = null\n      totalProvinceData.value.forEach((item,index) => {\n        if(item.name == areaSelection.value.province){\n          areaIndexSelection.value.provinceIndex = index\n          item.districts.forEach(district => {\n            districtList.value.push(district.name);\n          })\n        }\n      })\n    })\n    watch(() => areaSelection.value.distric, () =>{\n      wardList.value = []\n      areaSelection.value.ward = null\n      let currentDistrictList = totalProvinceData.value[areaIndexSelection.value.provinceIndex].districts\n      currentDistrictList.forEach(item => {\n        if(item.name == areaSelection.value.distric){\n          item.wards.forEach(item => {\n            wardList.value.push(item.name)\n          })\n        }\n      })\n    })\n    const setUpData = async () => {\n      totalProvinceData.value = await getProviceList()\n      provinceDataDivision()\n    }\n    onMounted(() => {\n      setUpData()\n    },\n    )\n    return {\n      testFunctions,\n      totalProvinceData,\n      provinceList,\n      districtList,\n      areaSelection,\n      wardList\n    }\n  }\n}\n</script>\n<style scoped lang=\"sass\">\n@import \"src/sass/common\"\n.header-block\n  background-color: $matisse-color\n  width: 100%\n  height: 300px\n  position: relative\n.header-filter\n  width: 60%\n  position: absolute\n  left: 50%\n  transform: translateX(-50%)\n  top: 275px\n  background-color: #ffffff\n  border: 1px solid $matisse-color\n  border-radius: 10px\nv-select\n  z-index: 2\n.filter-search-button\n  background-color: $matisse-color\n  color: #fff\n.provinceSelect\n  max-width:28%\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}